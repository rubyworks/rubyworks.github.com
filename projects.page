---
title   : RubyWorks Projects
stencil : rhtml
layout  : page

--- html

<%
  require 'pom'
  dirs = Dir['../*'] - ['RubyWorks', '../rubyworks.github.com', '../opendsl', '../live']
  @projects = []
  dirs.each do |d|
    puts "Load: #{d}" if $DEBUG
    begin
      prj = POM::Project.new(d)
      if prj.metadata.valid?
        @projects << prj
      else
        puts "Invalid POM for #{d}"
      end
    rescue
      puts "Can't load POM for #{d}"
    end
  end
%>

<div class="title">Projects.list</div>

<br/>

<% @projects.sort{ |a,b| a.metadata.name <=> b.metadata.name }.each do |prj| %>
  <div class="project-list" style="border: 1px solid #ccc; padding: 20px;">
    <div class="links" style="float: right;">
      <a href="http://github.com/rubyworks/<%= prj.metadata.name %>/tree/master">
        <img src="/assets/images/octocat48.jpg" height="32px" />
      </a>
    </div>
    <h1 style="margin: 0 0 10px 0;">
      <a href="<%= prj.metadata.homepage %>"><%= prj.metadata.title %></a>
    </h1>
    <%= prj.metadata.description %>
  </div>
  <br/><br/>
<% end %>

